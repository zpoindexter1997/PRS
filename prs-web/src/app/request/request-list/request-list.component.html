<app-navbar></app-navbar>
<p class="bg-dark" style="border: 0px; margin: 0px;"><input class="bg-light" style="border: 0px; margin: 0;" type="text" [(ngModel)]="searchCriteria" placeholder="Search"></p>
<table [ngClass]="tbl">
    <thead>
        <tr>
            <th>Id<button (click)="sortFn('id')" class="btn btn-link"><img [src]="idImg" width="45px"></button></th>
            <th>Justification<button (click)="sortFn('justification')" class="btn btn-link"><img [src]="justificationImg" width="45px"></button></th>
            <th>Rejection Reason<button (click)="sortFn('rejectionReason')" class="btn btn-link"><img [src]="rejectionReasonImg" width="45px"></button></th>
            <th>Delivery Mode<button (click)="sortFn('deliveryMode')" class="btn btn-link"><img [src]="deliveryModeImg" width="45px"></button></th>
            <th>Status<button (click)="sortFn('status')" class="btn btn-link"><img [src]="statusImg" width="45px"></button></th>
            <th>Total<button (click)="sortFn('total')" class="btn btn-link"><img [src]="totalImg" width="45px"></button></th>
            <th>User<button (click)="sortFn('userId')" class="btn btn-link"><img [src]="userIdImg" width="45px"></button></th>
            <th style="text-align: center;" colspan="3">Actions</th>
        </tr>
    </thead>
    <tbody>
        <tr *ngFor="let r of requests | searchRequest:searchCriteria | sort:sortColumn:sortAsc ">
            <td>{{r.id}}</td>
            <td>{{r.justification}}</td>
            <td>{{r.rejectionReason}}</td>
            <td>{{r.deliveryMode}}</td>
            <td>{{r.status}}</td>
            <td>{{r.total | currency}}</td>
            <td>{{r.user?.username}}</td>
            <td> <a routerLink="/request/detail/{{r.id}}">Details</a> </td>
            <td> <a routerLink="/request/edit/{{r.id}}">Edit</a> </td>
            <td> <a routerLink="/request/lines/{{r.id}}">Request Lines</a> </td>
        </tr>
    </tbody>
</table>
<a style="color: black;" routerLink="/request/create">Create New Request</a>